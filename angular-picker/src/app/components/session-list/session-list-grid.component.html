<div class="main-content">
  <div class="container py-4">
    <div class="row g-4">
      <!-- if products empty then display a message-->
      <div
        *ngIf="sessions?.length == 0"
        class="alert alert-warning col-md-12"
        role="alert"
      >
        No sessions found.
      </div>

      <!-- Create Session button -->
       <div class="d-flex justify-content-between align-items-center mb-3">
        <a routerLink="/create-session" class="btn btn-success btn-lg shadow-sm">
          <i class="bi bi-plus-circle"></i> Create Session
        </a>
      </div>

      <!-- loop over sessions -->
      <div
        *ngFor="let tempSession of sessions"
        class="col-sm-6 col-md-4 col-lg-3"
      >
        <div class="card h-100 shadow-sm border-0">
          <!-- session image -->
          <img
            [src]="tempSession.imageUrl || 'assets/default-session.jpg'"
            class="card-img-top img-fluid"
            alt="{{ tempSession.name }}"
          />
          <!-- card body -->
          <div class="card-body text-center d-flex flex-column">
            <h5 class="card-title fw-semibold mb-2">{{ tempSession.name }}</h5>

            <p class="text-muted small mb-2" *ngIf="tempSession.result; else noResult">
              <i class="bi bi-clipboard-check"></i>
              Result: {{ tempSession.result }}
            </p>

            <ng-template #noResult>
              <p class="text-muted small mb-2 fst-italic">
                <i class="bi bi-clipboard"></i>
                No result yet
              </p>
            </ng-template>

            <div class="mb-3">
              <span
                class="badge"
                [ngClass]="tempSession.active ? 'bg-success' : 'bg-secondary'"
              >
                {{ tempSession.active ? "Active" : "Inactive" }}
              </span>
            </div>

            <div class="mt-auto">
              <a
                *ngIf="tempSession.active; else inactiveLink"
                class="btn btn-primary w-100"
                [routerLink]="['/session', tempSession.id]"
              >
                <i class="bi bi-eye"></i> View
              </a>

              <ng-template #inactiveLink>
                <button class="btn btn-secondary w-100" disabled>
                  <i class="bi bi-eye-slash"></i> Inactive
                </button>
              </ng-template>

               <button
                *ngIf="tempSession.active"
                class="btn btn-outline-info w-100 mt-2"
                (click)="onClickSession(tempSession.id)"
              >
                <i class="bi bi-hand-index-thumb"></i> Close & Generate
              </button>
              
            </div>

          </div>
        </div>
      </div>

      <!-- begin footer -->
      <div class="footer-pagination">
        <div class="row">
          <div class="col-md-6"></div>

          <div class="col-md-6">
            <div class="row">
              <div class="col-md-9" style="padding-left: 30%">
                <ngb-pagination
                  [(page)]="thePageNumber"
                  [pageSize]="thePageSize"
                  [collectionSize]="theTotalElements"
                  [boundaryLinks]="true"
                  [maxSize]="5"
                  (pageChange)="listSessions()"
                >
                </ngb-pagination>
              </div>

              <div class="col-md-3 mt-2" style="text-align: right">
                <span class="mr-2">Page Size</span>

                <select
                  #myPageSelect
                  (change)="updatePageSize(myPageSelect.value)"
                >
                  <option>2</option>
                  <option selected="true">5</option>
                  <option>10</option>
                  <option>20</option>
                  <option>50</option>
                </select>
              </div>
            </div>
          </div>
        </div>
      </div>
      <!-- end footer -->
    </div>
  </div>
</div>
<!-- <div class="main-content">
    <div class="section-content section-content-p30">
        <div class="container-fluid">
            <div class="row">

                loop over the collection of products
                <div *ngFor="let tempSessions of sessions" class="col-md-3">

                    <div class="product-box">
                        <img src="{{ tempSessions.imageUrl }}" class="img-responsive">
                        <h1>{{ tempSessions.name }}</h1>
                        <div class="price">{{ tempSessions.active ? 'Active' : 'Inactive' }}</div>
                        <a href="#" class="primary-btn">View</a>
                    </div>

                </div>
            </div>
        </div>
    </div>
</div> -->

<!-- <table class="table">

    <thead class="table-dark">
        <tr>
            <th>Session Id</th>
            <th>Name</th>
            <th>Status</th>
        </tr>
    </thead>

    <tbody>
        <tr *ngFor="let tempSessions of sessions">
            <td class="align-middle">{{ tempSessions.id}}</td>
            <td class="align-middle">{{ tempSessions.name}}</td>
            <td class="align-middle">{{ tempSessions.active ? 'Active' : 'Inactive' }}</td>
        </tr>

    </tbody>
</table> -->
